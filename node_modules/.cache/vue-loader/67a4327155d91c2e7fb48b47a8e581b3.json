{"remainingRequest":"E:\\Projects\\VueJS\\Practice\\practiceapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Projects\\VueJS\\Practice\\practiceapp\\src\\components\\formfields.vue?vue&type=style&index=0&id=4ffbb00d&scoped=true&lang=css&","dependencies":[{"path":"E:\\Projects\\VueJS\\Practice\\practiceapp\\src\\components\\formfields.vue","mtime":1610444048467},{"path":"E:\\Projects\\VueJS\\Practice\\practiceapp\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Projects\\VueJS\\Practice\\practiceapp\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\Projects\\VueJS\\Practice\\practiceapp\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\Projects\\VueJS\\Practice\\practiceapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Projects\\VueJS\\Practice\\practiceapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouaW5wYWdlX2NvbnRhaW5lciB7DQogICAgLyogYmFja2dyb3VuZDogI0Y5RkU3MDsgKi8NCiAgICBtYXJnaW4tdG9wOiA1MHB4Ow0KICAgIGhlaWdodDogNTAwcHg7DQp9DQoNCi53aGl0ZWJhY2sgew0KICAgIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICAgIG1hcmdpbiA6ICAxMHB4Ow0KICAgIG1hcmdpbi10b3AgOiAgMzBweDsNCiAgICB3aWR0aDogMzAlOw0KICAgIGJhY2tncm91bmQ6ICNGRkZGRkY7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgYm94LXNoYWRvdzogIzAwMDAwMCA1cHggNXB4IDNweDsNCiAgICBmb250LWZhbWlseTogJ0dpbGwgU2FucycsICdHaWxsIFNhbnMgTVQnLCBDYWxpYnJpLCAnVHJlYnVjaGV0IE1TJywgc2Fucy1zZXJpZjsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5yYWRpb2JhY2sgew0KICAgIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICAgIG1hcmdpbiA6ICAxMHB4Ow0KICAgIG1hcmdpbi10b3AgOiAgMzBweDsNCiAgICB3aWR0aDogMzAlOw0KICAgIGJhY2tncm91bmQ6ICNGRkZGRkY7DQogICAgY29sb3I6ICNGRkZGRkY7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgYm94LXNoYWRvdzogIzAwMDAwMCA1cHggNXB4IDNweDsNCiAgICBmb250LWZhbWlseTogJ0dpbGwgU2FucycsICdHaWxsIFNhbnMgTVQnLCBDYWxpYnJpLCAnVHJlYnVjaGV0IE1TJywgc2Fucy1zZXJpZjsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5idG5fY29udGFpbmVyIHsNCiAgICBtYXJnaW46IDIwcHg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7DQogICAgDQp9DQoNCi5jZW50ZXJidG4gew0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1pdGVtczogY2VudGVyOw0KfQ0KDQo="},{"version":3,"sources":["formfields.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmWA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"formfields.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"inpage_container\">\r\n        <v-card raised>\r\n            <v-card-title style=\"text-align:center;\" >Create New Lead </v-card-title>\r\n            <v-btn  color=\"secondary\"  elevation=\"2\"  medium @click=\"goToListView\">Lead List View</v-btn>\r\n            <v-btn  color=\"secondary\"  elevation=\"4\"  medium @click=\"goToTableView\">Lead Table View</v-btn>\r\n        </v-card>\r\n        <v-form ref=\"form\" v-model=\"valid\" >\r\n            <v-select\r\n                v-model=\"isReferenceLead\"\r\n                :items=\"allListOptions.yesNoOptions\"\r\n                :rules=\"[v => !!v || 'Please select if this is reference lead or not']\"\r\n                label=\"Is Reference Lead\"\r\n                required\r\n                class=\"whiteback\"\r\n                @change=\"checkRefValue\"\r\n            ></v-select>\r\n\r\n            <v-text-field\r\n                v-model=\"referenceMobile\"\r\n                :counter=\"10\"\r\n                :rules=\"allListOptions.mobileRules\"\r\n                :type=\"mobile\"\r\n                label=\"Reference Mobile Number\"\r\n                required\r\n                class=\"whiteback\"\r\n                v-if=\"isReferenceLead == 'Yes'\"\r\n               @change=\"updateReferenceName\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n                v-model=\"referenceName\"\r\n                :disabled=\"true\"\r\n                :rules=\"allListOptions.nameRules\"\r\n                label=\"Reference Name\"\r\n                required\r\n                class=\"whiteback\"\r\n                v-if=\"isReferenceLead == 'Yes'\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n                v-model=\"firstName\"\r\n                :rules=\"allListOptions.nameRules\"\r\n                label=\"First Name\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n                v-model=\"middleName\"\r\n                :rules=\"allListOptions.nameRules\"\r\n                label=\"Middle Name\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n                v-model=\"lastName\"\r\n                :rules=\"allListOptions.nameRules\"\r\n                label=\"Last Name\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n                v-model=\"mobile\"\r\n                :counter=\"10\"\r\n                :rules=\"allListOptions.mobileRules\"\r\n                :type=\"mobile\"\r\n                label=\"Mobile Number\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-text-field>\r\n\r\n            <v-text-field\r\n                v-model=\"email\"\r\n                :rules=\"allListOptions.emailRules\"\r\n                label=\"E-mail\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-text-field>\r\n\r\n            <v-radio-group v-model=\"gender\" row  class=\"radioback\" id=\"radiogrp\">\r\n                <v-radio v-for=\"opt in allListOptions.genderOptions\" :key=\"opt\" :label=\"`${opt}`\" :value=\"opt\" ></v-radio>\r\n             </v-radio-group>\r\n\r\n            <v-menu\r\n                ref=\"menu1\"\r\n                v-model=\"menu1\"\r\n                :close-on-content-click=\"false\"\r\n                transition=\"scale-transition\"\r\n                offset-y\r\n                max-width=\"290px\"\r\n                min-width=\"290px\"\r\n                \r\n                >\r\n                <template v-slot:activator=\"{ on }\">\r\n                    <v-text-field\r\n                    v-model=\"dateFormatted\"\r\n                    label=\"Date of Birth\"\r\n                    hint=\"MM/DD/YYYY\"\r\n                    persistent-hint\r\n                    @blur=\"date = parseDate(dateFormatted)\"                    \r\n                    v-on=\"on\"\r\n                    class=\"whiteback\"\r\n                    @change=\"updateAge($event)\"\r\n                    ></v-text-field>\r\n                </template>\r\n                <v-date-picker v-model=\"date\" no-title @input=\"menu1 = false\" @change=\"updateAge($event)\"></v-date-picker>\r\n            </v-menu>\r\n\r\n            <v-text-field\r\n                v-model=\"age\"\r\n                :counter=\"2\"\r\n                :rules=\"allListOptions.ageRules\"\r\n                type=\"number\"\r\n                :disabled=\"true\"\r\n                label=\"Age\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-text-field>\r\n\r\n            <v-select\r\n                v-model=\"leadType\"\r\n                :items=\"allListOptions.leadTypeOptions\"\r\n                :rules=\"[v => !!v || 'Please select if this is reference lead or not']\"\r\n                label=\"Lead Type\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-select>\r\n            \r\n            <v-select\r\n                v-model=\"campaign\"\r\n                :items=\"allListOptions.campaignOptions\"\r\n                :rules=\"[v => !!v || 'Campaign is required']\"\r\n                label=\"Campaign\"\r\n                required\r\n                class=\"whiteback\"\r\n            ></v-select>\r\n\r\n            <v-select\r\n                v-model=\"allocatedAgent\"\r\n                :items=\"agentList\"\r\n                :item-text=\"agentDetailText\"\r\n                item-value=\"AgentID\"\r\n                :rules=\"[v => !!v || 'Agent selection is required']\"\r\n                label=\"Allocated To\"\r\n                required\r\n                class=\"whiteback\"\r\n                :disabled=\"agentSelectorDisabled\"\r\n            ></v-select>\r\n\r\n            <div class=\"btn_container\">\r\n                <v-btn\r\n                    :disabled=\"!valid\"\r\n                    color=\"success\"\r\n                    class=\"mr-4 centerbtn\"\r\n                    @click=\"createNewLead\"\r\n                >   Submit\r\n                </v-btn>\r\n\r\n                <v-btn\r\n                    color=\"error\"\r\n                    class=\"mr-4 centerbtn\"\r\n                    @click=\"reset\"\r\n                >   Reset Form\r\n                </v-btn>\r\n\r\n                <v-btn\r\n                    color=\"warning\"\r\n                    class=\"centerbtn\"\r\n                    @click=\"resetValidation\"\r\n                >   Reset Validation\r\n                </v-btn>\r\n            </div>\r\n           \r\n        </v-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nvar axios       =   require('axios');\r\nimport allUrl from './../constants/allurls';\r\nimport commonFunctions from './../constants/commonFunctions';\r\nimport allListOptions  from './../constants/listOptions';\r\nexport default {\r\n    data(){\r\n        return {\r\n            \r\n            date: new Date().toISOString().substr(0, 10),\r\n            dateFormatted: this.formatDate(new Date().toISOString().substr(0, 10)),\r\n            menu1: false,\r\n            menu2: false,\r\n\r\n            agentSelectorDisabled:  false,\r\n\r\n            loggedInAgent:\"A309090\",\r\n            isReferenceLead:'',\r\n            referenceMobile:'',\r\n            referenceName:'',\r\n            referenceLeadID:'',\r\n            firstName: '',\r\n            middleName: '',\r\n            lastName: '',\r\n            date_of_birth: '',\r\n            email: '',\r\n            mobile: '',\r\n            age:'0',\r\n            gender:'',\r\n            campaign:'',\r\n            leadType:'',\r\n            allocatedAgent:'',\r\n            agentList:[],\r\n\r\n            valid: true,\r\n            allListOptions:allListOptions,\r\n            row:null\r\n\r\n\r\n       }\r\n    }, \r\n    methods: {\r\n      goToListView(){\r\n            this.$router.push('/');\r\n        },\r\n        goToTableView(){\r\n            this.$router.push('/tableview');\r\n        },  \r\n      updateReferenceName(){\r\n          console.log(\"Store Obj - \",this.$store);\r\n          this.referenceName    =   \"Updated\"\r\n      },  \r\n      createNewLead () {\r\n        if(this.$refs.form.validate()){\r\n            let newLeadData     =   {\r\n                    \"LeadType\"        :   this.leadType,\r\n                    \"Campaign\"        :   this.campaign,\r\n                    \"AllocatedTo\"     :   this.allocatedAgent,\r\n                    \"AllocatedBy\"     :   this.loggedInAgent,\r\n                    \"IsReferenceLead\" :   this.isReferenceLead == \"Yes\" ? true : false ,\r\n                    \"RefferedBy\"      :   this.referenceLeadID,\r\n                    \"FirstName\"       :   this.firstName,\r\n                    \"LastName\"        :   this.lastName,\r\n                    \"MiddleName\"      :   this.middleName,\r\n                    \"ContactNumber\"   :   this.mobile,\r\n                    \"Gender\"          :   this.gender,\r\n                    \"DateOfBirth\"     :   this.date_of_birth ? this.date_of_birth : this.dateFormatted\r\n            };\r\n\r\n            console.log(newLeadData);\r\n\r\n            axios.post(allUrl.getURL(\"createNewLead\"),newLeadData)\r\n            .then((res)=>{\r\n                console.log(res);\r\n                alert(\"New Lead created with Id - \"+res.data.id)\r\n            }).catch((err)=>{\r\n                console.log(err);\r\n                alert(err);\r\n            })\r\n        }\r\n      },\r\n      checkRefValue() {\r\n          if(this.isReferenceLead == \"No\"){\r\n              this.referenceLeadID      =   '';\r\n              this.referenceMobile      =   '';\r\n              this.referenceName        =   '';\r\n          }\r\n      },\r\n      changeGender(){\r\n          console.log(\"$event = \",this.$event,\"gender = \",this.gender);\r\n      },\r\n      agentDetailText(item){\r\n          return item.first_name + \" \"+ item.last_name + \" (\"+ item.id +\")\";\r\n      },  \r\n      reset () {\r\n        this.$refs.form.reset()\r\n      },\r\n      resetValidation () {\r\n        this.$refs.form.resetValidation()\r\n      },\r\n      formatDate (date) {\r\n        if (!date) return null\r\n\r\n        const [year, month, day] = date.split('-')\r\n        return `${month}/${day}/${year}`\r\n      },\r\n      parseDate (date) {\r\n        if (!date) return null\r\n\r\n        const [month, day, year] = date.split('/')\r\n        return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\r\n      },\r\n      updateAge(event){\r\n          this.age  =   this.calculateAge(event)\r\n      },\r\n      calculateAge(dob){\r\n        var dateString = dob;\r\n        var today = new Date();\r\n        var birthDate = new Date(dateString);\r\n        if(today.getFullYear() <= birthDate.getFullYear() && today.getMonth() <= birthDate.getMonth() && today.getDate() <= birthDate.getDate() ){\r\n            alert(\"Please Enter valid date\");\r\n            this.date_of_birth  =   new Date();\r\n            this.dateFormatted  =   this.formatDate(new Date().toISOString().substr(0, 10));\r\n            this.age            =   0;\r\n        }else{\r\n            var age = today.getFullYear() - birthDate.getFullYear();\r\n            var m = today.getMonth() - birthDate.getMonth();\r\n            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n                age--;\r\n            }\r\n            return age;\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      computedDateFormatted () {\r\n        return this.formatDate(this.date)\r\n      },\r\n    },\r\n    watch: {\r\n      date () {\r\n        this.dateFormatted = this.formatDate(this.date)\r\n      },\r\n    },\r\n    created(){\r\n        console.log(allListOptions);\r\n        if(!navigator.onLine && commonFunctions.isNetworkConnected){\r\n            this.agentSelectorDisabled   =   true;\r\n            alert(\"You are not connected to internet.\",\"Internet Issue\")\r\n        }else{\r\n            axios.get(allUrl.getURL(\"getReportingAgentList\")+'/'+this.loggedInAgent)\r\n            .then((res)=>{\r\n                console.log(res);\r\n                this.agentSelectorDisabled   =   false;\r\n                if(Array.isArray(res.data.data) && res.data.data.length > 0){\r\n                    console.log(\"Agent list found\");\r\n                    this.agentList               =   res.data.data;\r\n                }\r\n                // else if(res.data && res.data.data && res.data.data){\r\n                //         this.agentList  = [res.data.data];\r\n                // }\r\n                else{\r\n                    this.agentList  = [];\r\n                    this.agentSelectorDisabled   =   true;\r\n                }\r\n            }).catch((err)=>{\r\n                console.log(err.message);\r\n                alert(err);\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.inpage_container {\r\n    /* background: #F9FE70; */\r\n    margin-top: 50px;\r\n    height: 500px;\r\n}\r\n\r\n.whiteback {\r\n    display: inline-flex;\r\n    margin :  10px;\r\n    margin-top :  30px;\r\n    width: 30%;\r\n    background: #FFFFFF;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    box-shadow: #000000 5px 5px 3px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    cursor: pointer;\r\n}\r\n\r\n.radioback {\r\n    display: inline-flex;\r\n    margin :  10px;\r\n    margin-top :  30px;\r\n    width: 30%;\r\n    background: #FFFFFF;\r\n    color: #FFFFFF;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    box-shadow: #000000 5px 5px 3px;\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n    cursor: pointer;\r\n}\r\n\r\n.btn_container {\r\n    margin: 20px;\r\n    align-items: center;\r\n    justify-items: center;\r\n    \r\n}\r\n\r\n.centerbtn {\r\n    align-items: center;\r\n    justify-items: center;\r\n}\r\n\r\n</style>\r\n\r\n"]}]}